<!DOCTYPE html>
<html
   xmlns:th="https://www.thymeleaf.org"
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{base}"
>
   <main layout:fragment="main">
      <section class="hero">
         <div class="container text-center">
            <div class="hero-content">
               <h1 class="hero-text text-xxl">Τα ραντεβού μου</h1>
               <p class="text-xl my-4 font-semibold">
                  Δείτε τα προγραμματισμένα ραντεβού σας και κανονίστε νέα
                  για τις δημοτικές υπηρεσίες.
               </p>
               <div class="hero-buttons">
                  <a class="btn btn-primary" th:href="@{/appointments/new}">
                     <i class="fas fa-calendar-plus"></i> Κλείσε νέο ραντεβού
                  </a>
               </div>
            </div>
         </div>
      </section>

      <section class="container" style="margin: 50px auto">
         <div class="card-box" style="margin-bottom: 20px">
            <h2 class="text-lg" style="margin-bottom: 10px">
               Επερχόμενα ραντεβού
            </h2>
            <div style="overflow-x: auto">
               <table class="table">
                  <thead>
                     <tr>
                        <th>Πρωτόκολλο</th>
                        <th>Υπηρεσία</th>
                        <th>Ημερομηνία/Ώρα</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr th:each="a : ${appointments}">
                        <td th:text="${a.protocolNumber()}"></td>
                        <td th:text="${a.department().name()}"></td>
                        <td th:text="${#temporals.format(a.appointmentDateTime(), 'dd-MM-yyyy HH:mm')}"></td>
                     </tr>
                     <tr th:if="${appointments == null || appointments.isEmpty()}">
                        <td colspan="3" class="text-center" style="color: #666">
                           Δεν υπάρχουν προγραμματισμένα ραντεβού αυτή τη στιγμή.
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
      </section>
   </main>
</html>
